# üöÄ Replit Prompt ‚Äî Professional Trading Optimization (Non-Destructive)

üìå Objective:
Integrate advanced, capital-efficient trading behaviors into the existing AI-driven trading system **without altering core trading logic, model structure, or backend execution flow**.

---

‚úÖ Implement These Enhancements:

### üß† 1. High-Probability Signal Enforcement
- Only execute trades when AI signal confidence ‚â• **75%**
- Integrate confidence filter before trade execution module

### üßÆ 2. Dynamic Risk Allocation Layer
- Create a wrapper around the order sizing logic:
  - Confidence 75‚Äì80% + low ATR ‚Üí 1.0% of portfolio
  - Confidence 80‚Äì85% + breakout volume ‚Üí 1.25%
  - Confidence >85% + strong momentum ‚Üí 1.5%
- This must work **without exceeding 1.5% of portfolio per trade**

### üèÅ 3. Multi-Tiered Take Profit Strategy
- Replace fixed take profit logic with:
  - TP1: Close 30% of the position at +2%
  - TP2: Close 50% at +4%
  - TP3: Trail remaining 20% once +6% is reached
- Use real-time price updates and PnL tracking to trigger each TP level independently

### üîÅ 4. Market Regime Detection (Overlay, not Core Change)
- Non-invasive module that runs ADX + MACD + RSI slope
- Output ‚ÄúTREND‚Äù or ‚ÄúRANGE‚Äù state
- Use this only to activate corresponding strategies already in place:
  - TREND ‚Üí favor momentum strategies
  - RANGE ‚Üí pause or favor mean reversion logic

### üß† 5. Psychological Capital Protection Layer
- Automatically pause new trades for 12 hours if:
  - 3 consecutive stop-loss hits occur
  - Portfolio drops >5% in a single day
- Display visual notification on the dashboard during cooldown period

---

‚úÖ UI Integration:
- All changes must reflect in the modern UI (`:3000`)
- Add confidence thresholds and current regime indicator
- Display take profit tier levels on open positions

---

‚ö†Ô∏è Rules:
- Do not modify core model logic, backend signal processing, or database schema
- All enhancements must be modular, override-compatible, and easily disabled
- Preserve full compatibility with OKX live trading, AI engine, and current workflows

---

üéØ Final Goal:
Improve trading **profitability, consistency, and protection** without disrupting the system‚Äôs integrity or original architecture.